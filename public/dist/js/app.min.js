angular.module("todoCtrl",[]).controller("mainCtrl",["$http","$scope","Todos",function(a,b,c){b.formData={},c.get().success(function(a){b.todos=a}),b.createTodo=function(){$.isEmptyObject(b.formData)||c.createTodo(b.formData).success(function(a){b.formData={},b.todos=a})},b.removeTodo=function(a){c.removeTodo(a).success(function(a){b.todos=a})}}]).controller("detailsCtrl",["$http","$scope","$routeParams","Todos",function(a,b,c,d){b.todoData={},b.todoId=c.todo_id,d.getTodo(b.todoId).success(function(a){console.log("Loaded"),b.todoData=a}),b.removeTodo=function(a){d.removeTodo(a).success(function(a){b.todos=a})}}]),angular.module("meanTodo",["ngRoute","todoCtrl","todoService"]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/main.html",controller:"mainCtrl"}).when("/details/:todo_id",{templateUrl:"views/details.html",controller:"detailsCtrl"})}]),angular.module("todoService",[]).factory("Todos",["$http",function(a){return{get:function(){return a.get("api/todos")},getTodo:function(b){return a.get("api/todos/"+b)},createTodo:function(b){return a.post("api/todos",b)},removeTodo:function(b){return a.delete("api/todos/"+b)}}}]);